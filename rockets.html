<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ракетні комплекси – Засоби ураження</title>

<style>
/* ===== ГЛОБАЛЬНІ ЗМІННІ ===== */
:root {
    --bg-main: #020204;
    --bg-card: #0b0b0f;
    --accent: #ff2727;
    --accent-soft: #ff5757;
    --border-glow: 0 0 12px rgba(255, 39, 39, 0.4);  
    --text-main: #f5f5f5;
    --text-muted: #b8b8b8;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: "Segoe UI", system-ui, -apple-system, sans-serif;
    background: radial-gradient(circle at top, #220000 0%, #020204 45%, #000000 100%);
    color: var(--text-main);
    overflow-x: hidden;
}

a { color: inherit; text-decoration: none; }

/* ===== HUD ===== */
.hud-nav {
    position: fixed; top: 0; left: 0;
    width: 100%; z-index: 50;
    backdrop-filter: blur(10px);
    background: rgba(0,0,0,0.88);
    border-bottom: 1px solid rgba(255,39,39,0.4);
    display: flex; align-items: center;
    justify-content: space-between;
    padding: 8px 14px;
}

.hud-logo { display: flex; align-items: center; gap: 10px; cursor: pointer; }

.hud-emblem { width: 24px; height: 30px; }
.hud-emblem svg { width: 100%; height: 100%; fill: #ffffff; }

.hud-logo-text { display: flex; flex-direction: column; }
.hud-logo-main { color: #ffffff; text-transform: uppercase; letter-spacing: 1.4px; }
.hud-logo-sub { color: #b8b8b8; font-size: 11px; }

/* Back button */
.hud-back {
    font-size: 18px;
    color: #fff;
    padding: 3px 8px;
    border-radius: 6px;
    border: 1px solid rgba(255,39,39,0.5);
    margin-right: 8px;
    cursor: pointer;
}

/* ===== BURGER ===== */
.hud-burger {
    width: 34px; height: 34px;
    border-radius: 8px;
    border: 1px solid rgba(255,39,39,0.4);
    background: rgba(20,0,0,0.6);
    display: flex; align-items: center;
    justify-content: center;
    position: relative;
    cursor: pointer;
}
.hud-burger span,
.hud-burger::before,
.hud-burger::after {
    content: "";
    width: 18px; height: 2px;
    position: absolute;
    background: #ffffff;
    transition: .25s;
}
.hud-burger::before { transform: translateY(-6px); }
.hud-burger::after  { transform: translateY(6px); }

/* ===== MENU ===== */
.hud-menu {
    position: fixed; right: 10px; top: 50px;
    width: 220px;
    padding: 12px;
    background: rgba(5,5,7,0.97);
    border: 1px solid rgba(255,39,39,0.6);
    border-radius: 14px;
    opacity: 0;
    transform: translateY(-10px) scale(.97);
    pointer-events: none;
    transition: .22s;
}
.hud-menu.visible {
    opacity: 1; transform: translateY(0) scale(1);
    pointer-events: auto;
}

/* ===== HERO ===== */
.hero {
    margin-top: 52px;
    padding: 70px 18px 30px;
    text-align: left;
}

.hero-title { font-size: 26px; text-transform: uppercase; color: #ffffff; margin-bottom: 10px; }
.hero-sub   { font-size: 14px; color: var(--text-muted); margin-bottom: 20px; }

/* ===== SEARCH ===== */
.search-box {
    margin-top: 10px;
    margin-bottom: 22px;
    width: 100%;
    max-width: 420px;
    position: relative;
}

.search-box input {
    width: 100%; padding: 10px 42px 10px 16px;
    border-radius: 999px;
    border: 1px solid rgba(255,39,39,0.6);
    background: rgba(10,10,12,0.85);
    color: #fff;
}

.search-dropdown {
    position: absolute;
    width: 100%;
    background: rgba(10,10,12,0.95);
    border: 1px solid rgba(255,39,39,0.6);
    border-radius: 12px;
    padding: 6px 0;
    display: none;
}

/* ===== CARDS ===== */
.cards-grid {
    display: flex; flex-wrap: wrap;
    gap: 10px; justify-content: center;
    padding-bottom: 40px;
}

.weapon-card {
    width: 120px;
    background: var(--bg-card);
    border: 1px solid rgba(255,39,39,0.4);
    border-radius: 10px;
    overflow: hidden;
    cursor: pointer;
}
.weapon-image { width: 100%; height: 100px; object-fit: cover; }
.weapon-name { padding: 4px 2px; font-size: 12px; text-align: center; }

/* ===== MODAL ===== */
.weapon-modal {
    position: fixed; inset: 0;
    background: rgba(0,0,0,0.85);
    backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 9999;
}
.weapon-modal.hidden { opacity: 0; pointer-events: none; }

.weapon-modal-content {
    width: 92%; max-width: 500px;
    height: 80vh;
    background: #0a0a0c;
    border: 1px solid rgba(255,39,39,0.6);
    border-radius: 15px;
    padding: 14px;
    display: flex; flex-direction: column;
}

.modal-img-wrapper {
    width: 100%; height: 38vh;
    border: 1px solid rgba(255,39,39,0.4);
    border-radius: 12px;
    overflow: hidden;
    background: #000;
}

.modal-img { width: 100%; height: 100%; object-fit: contain; }
.modal-scroll { flex: 1; overflow-y: auto; margin-top: 12px; }

.modal-close {
    position: absolute; top: 10px; right: 12px;
    width: 32px; height: 32px;
    border-radius: 50%;
    border: 1px solid rgba(255,39,39,0.4);
    color: #fff; background: rgba(20,0,0,0.7);
    cursor: pointer; display: flex; align-items: center; justify-content: center;
}

.info-block {
    margin-bottom: 18px;
    padding: 14px;
    background: rgba(20,0,0,0.4);
    border: 1px solid rgba(255,39,39,0.4);
    border-radius: 12px;
}

.info-block h3 {
    font-size: 14px; margin-bottom: 10px;
    color: #fff; text-transform: uppercase;
}

footer {
    text-align: center; padding: 25px 0;
    color: var(--text-muted); font-size: 13px;
}
</style>
</head>

<body>

<!-- ========== МОДАЛКА ========== -->
<div id="weaponModal" class="weapon-modal hidden">
    <div class="weapon-modal-content">
        <button class="modal-close">✖</button>
        <div class="modal-img-wrapper">
            <img id="modalImg" class="modal-img">
        </div>
        <div class="modal-scroll">
            <h2 id="modalName"></h2>
            <div class="info-block"><h3>Опис</h3><p id="modalDesc"></p></div>
            <div class="info-block"><h3>Характеристики</h3><ul id="modalSpecs"></ul></div>
        </div>
    </div>
</div>

<!-- ========== HUD ========== -->
<div class="hud-nav">
    <div class="hud-logo" onclick="window.location='index.html'">
        <span class="hud-back" id="backBtn">←</span>
        <div class="hud-emblem">
            <svg viewBox="0 0 32 44"><path d="M16 2C11 5 9 10 9 16v14l-4-4v6l7 6h2V17h4v21h2l7-6v-6l-4 4V16c0-6-2-11-7-14z"/></svg>
        </div>
        <div class="hud-logo-text">
            <div class="hud-logo-main">Ракетні комплекси</div>
            <div class="hud-logo-sub">Категорія порталу</div>
        </div>
    </div>

    <div class="hud-burger" id="hudBurger"><span></span></div>
</div>

<!-- MENU -->
<div class="hud-menu" id="hudMenu">
    <div class="hud-menu-groups">

        <div class="menu-group">
            <div class="menu-group-title">Основне</div>
            <ul><li><button data-link="index.html">Головна</button></li></ul>
        </div>

        <div class="menu-group">
            <div class="menu-group-title">Категорії</div>
            <ul>
                <li><button data-link="ammo.html">Боєприпаси</button></li>
                <li><button data-link="rockets.html">Ракетні комплекси</button></li>
                <li><button data-link="pvo.html">Ппротиповітряна оборона</button></li>
                <li><button data-link="uav.html">БпЛА</button></li>
            </ul>
        </div>

    </div>
</div>

<!-- HERO -->
<section class="hero">
    <div class="hero-inner">
        <h1 class="hero-title">Ракетні комплекси</h1>
        <p class="hero-sub">
            Ракетні системи призначені для ураження важливих об’єктів, бронетехніки,
            укріплень, складів, пунктів управління та живої сили на великих дистанціях.
        </p>

        <div class="search-box">
            <input id="searchInput" placeholder="Пошук ракетних комплексів...">
            <div id="searchDropdown" class="search-dropdown"></div>
        </div>
    </div>
</section>

<!-- LIST -->
<section class="page">
    <div id="weapons-grid" class="cards-grid"></div>
</section>

<footer>© 2025 Засоби ураження • Ракетні комплекси</footer>

<script type="module">
/* FIREBASE */
import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDRSzMxpXUox4_pW4ruMXZsXw1Kppi_P8Y",
  authDomain: "rooot-71962.firebaseapp.com",
  projectId: "rooot-71962",
  storageBucket: "rooot-71962.firebasestorage.app",
  messagingSenderId: "718921321052",
  appId: "1:718921321052:web:614928382d93d2b50eb499"
};

const app = initializeApp(firebaseConfig);
const db  = getFirestore(app);

const TYPE = "rocket";

const container = document.getElementById("weapons-grid");

function createCard(item){
    const card = document.createElement("div");
    card.className = "weapon-card";
    card.innerHTML = `
        <img class="weapon-image" src="${item.img}">
        <div class="weapon-name">${item.name}</div>
    `;
    card.addEventListener("click", ()=>openModal(item));
    return card;
}

async function loadData(){
    const snap = await getDocs(collection(db,"weapons"));
    const items = snap.docs.map(d=>({id:d.id, ...d.data()}))
        .filter(i=>(i.type||"")===TYPE);

    items.forEach(i=>container.appendChild(createCard(i)));
}
loadData();

/* MODAL */
const modal = document.getElementById("weaponModal");
const modalImg = document.getElementById("modalImg");
const modalName = document.getElementById("modalName");
const modalDesc = document.getElementById("modalDesc");
const modalSpecs = document.getElementById("modalSpecs");

function openModal(i){
    modalImg.src = i.img;
    modalName.textContent = i.name;
    modalDesc.textContent = i.desc;
    modalSpecs.innerHTML = "";
    (i.specs||[]).forEach(s=>{
        const li=document.createElement("li");
        li.textContent=s;
        modalSpecs.appendChild(li);
    });

    modal.classList.remove("hidden");
}

document.querySelector(".modal-close").onclick=()=>modal.classList.add("hidden");
modal.onclick=e=>{ if(e.target===modal) modal.classList.add("hidden"); };

/* HUD */
const burger = document.getElementById("hudBurger");
const menu = document.getElementById("hudMenu");

burger.onclick = ()=>{ burger.classList.toggle("active"); menu.classList.toggle("visible"); };

menu.querySelectorAll("button[data-link]").forEach(b=>{
    b.onclick=()=>location.href=b.dataset.link;
});

/* back button */
document.getElementById("backBtn").onclick=()=>{
    if(document.referrer) history.back();
    else location.href="index.html";
};

/* SEARCH */
const searchInput=document.getElementById("searchInput");
const drop=document.getElementById("searchDropdown");

let cached=[];

setTimeout(()=>{
    cached=[...document.querySelectorAll(".weapon-card")].map(el=>({
        el,
        name: el.querySelector(".weapon-name").textContent
    }));
},1500);

searchInput.oninput=()=>{
    const q = searchInput.value.toLowerCase();
    drop.innerHTML="";
    drop.style.display="none";

    if(!q) return;

    const results=cached.filter(c=>c.name.toLowerCase().includes(q));

    if(!results.length) {
        drop.innerHTML=`<div style="padding:10px;color:#aaa;">Нічого не знайдено</div>`;
        drop.style.display="block";
        return;
    }

    results.slice(0,12).forEach(r=>{
        const div=document.createElement("div");
        div.className="search-item";
        div.textContent=r.name;
        div.onclick=()=>{
            r.el.scrollIntoView({behavior:"smooth", block:"center"});
        };
        drop.appendChild(div);
    });

    drop.style.display="block";
};
</script>

</body>
</html>
